<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>OpenLayers IDW Layer (using &lt;canvas&gt;)</title>
<script src="http://openlayers.org/api/OpenLayers.js" type="text/javascript"></script>
<script src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=6.2" type="text/javascript"></script>
<script src="IDWLayer.js" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
 
var map;
 
function init() {
map = new OpenLayers.Map('map', {
                    controls: [
                        new OpenLayers.Control.Navigation(),
                        new OpenLayers.Control.PanZoomBar(),
                        new OpenLayers.Control.LayerSwitcher({'ascending':false}),
                        new OpenLayers.Control.MousePosition(),
//                        new OpenLayers.Control.KeyboardDefaults()
                    ],
});


var idw = new IDW.Layer("IDW");

var coordinates = [

[ /* 31628 */ 54.7408333333, 9.43472222222, 200 ],
[ /* 4666 */ 54.4700375, 9.51416, 220 ],
[ /* 15236 */ 54.6144, 9.894, 210 ],
[ /* 33766 */ 54.477019, 9.051147, 220 ],
[ /* 46759 */ 54.4508333333, 11.1463888889 , 200],
[ /* 47075 */ 54.4388888889, 11.1972222222 , 220],
[ /* 47273 */ 54.5261111111, 9.91555555556 , 200],
[ /* 58696 */ 54.4563888889, 11.2125 , 220],
];

for (var latlng in coordinates) {
  var point = new IDW.Source(new OpenLayers.LonLat(coordinates[latlng][1], coordinates[latlng][0]), coordinates[latlng][2]);
  idw.addSource(point);
}

idw.setOpacity(0.6);
idw.pixelSize = 16;
idw.maxNeighbours = 12;
idw.power = 2;

var shaded = new OpenLayers.Layer.VirtualEarth("VirtualEarth Shaded", {
  type: VEMapStyle.Shaded,
  animationEnabled: false
});

//var wms = new OpenLayers.Layer.WMS("OpenLayers WMS", "http://labs.metacarta.com/wms/vmap0", {layers: 'basic'});
 
map.addLayers([shaded, /*wms,*/ idw]);
map.zoomToExtent(idw.getDataExtent());

}
 
//]]>
</script>
<title></title>
</head>
<body onload="init()">
<div style="width: 800px; margin: auto">
<h1 style='text-align:center'>OpenLayers IDW Layer (using &lt;canvas&gt;)</h1>
<div id="map" style='height:600px'></div>
</body>
</html>
